'use client'
import { useState } from 'react'; import { supabase } from '../../../lib/supabase'; import Section from '../../../components/Section'
export default function MemberLogin(){ const [email,setEmail]=useState(''); const [msg,setMsg]=useState(null); async function onSubmit(e){ e.preventDefault(); setMsg('Sending magic link...'); const { error } = await supabase.auth.signInWithOtp({ email, options:{ emailRedirectTo: window.location.origin + '/member' } }); setMsg(error?error.message:'Check your email!') } return (<Section title="Member Login"><form onSubmit={onSubmit} className="grid gap-3 max-w-sm"><input value={email} onChange={e=>setEmail(e.target.value)} type="email" className="input" placeholder="Email" required /><button className="btn">Send Link</button>{msg&&<p className="text-sm">{msg}</p>}</form></Section>) }
